<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>الملف الشخصي</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap');

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Cairo', sans-serif;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: start;
      padding-top: 60px;
      background: linear-gradient(-45deg, #7f00ff, #e100ff, #00c9ff, #92fe9d);
      background-size: 400% 400%;
      animation: gradientBG 15s ease infinite;
    }

    @keyframes gradientBG {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    .profile-box {
      backdrop-filter: blur(12px);
      background: rgba(255, 255, 255, 0.1);
      border-radius: 20px;
      border: 1px solid rgba(255, 255, 255, 0.3);
      box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.2);
      padding: 30px;
      width: 90%;
      max-width: 800px;
      color: white;
      text-align: center;
    }

    .logo {
      width: 180px;
      margin: 0 auto 20px;
      animation: float 4s ease-in-out infinite;
    }

    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-15px); }
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
      background-color: rgba(255, 255, 255, 0.1);
      border-radius: 10px;
      overflow: hidden;
    }

    td, th {
      padding: 10px;
      border: 1px solid rgba(255, 255, 255, 0.3);
      text-align: center;
      color: white;
    }

    th {
      background-color: rgba(127, 0, 255, 0.6);
    }

    .section-title {
      margin-top: 30px;
      font-size: 20px;
      font-weight: bold;
      color: #fff;
    }

    .summary {
      margin-top: 10px;
      font-size: 18px;
    }
  </style>
</head>
<body>
  <div class="profile-box">
    <img src="logo.png" alt="شعار" class="logo">
    <h2 id="studentName">اسم الطالب</h2>

    <div class="section-title">درجات الامتحانات</div>
    <table id="examsTable">
      <thead>
        <tr><th>الامتحان</th><th>الدرجة</th></tr>
      </thead>
      <tbody></tbody>
    </table>
    <div class="summary" id="examTotal"></div>
    <div class="summary" id="examPercentage"></div>

    <div class="section-title">درجات الورش</div>
    <table id="workshopsTable">
      <thead>
        <tr><th>الورشة</th><th>الدرجة</th></tr>
      </thead>
      <tbody></tbody>
    </table>
    <div class="summary" id="workshopTotal"></div>
    <div class="summary" id="workshopPercentage"></div>

    <div class="section-title">النسبة العامة</div>
    <div class="summary" id="overallPercentage"></div>
  </div>

<script>
  const student = JSON.parse(localStorage.getItem("student"));
  document.getElementById("studentName").innerText = student.name;

  const examsTableBody = document.querySelector("#examsTable tbody");
  const workshopsTableBody = document.querySelector("#workshopsTable tbody");

  let examTotal = 0;
  let examCount = 0;

  for (let i = 1; i <= 30; i++) {
    const mark = Number(student[`exam${i}`]);
    if (!isNaN(mark)) {
      const row = `<tr><td>امتحان ${i}</td><td>${mark}</td></tr>`;
      examsTableBody.innerHTML += row;
      examTotal += mark;
      examCount++;
    }
  }

  const examPercent = examCount ? (examTotal / (examCount * 15)) * 100 : 0;
  document.getElementById("examTotal").innerText = `المجموع: ${examTotal}`;
  document.getElementById("examPercentage").innerText = `النسبة المئوية: ${examPercent.toFixed(2)}%`;

  let workshopTotal = 0;
  let workshopCount = 0;

  for (let i = 1; i <= 10; i++) {
    const mark = Number(student[`workshop${i}`]);
    if (!isNaN(mark)) {
      const row = `<tr><td>ورشة ${i}</td><td>${mark}</td></tr>`;
      workshopsTableBody.innerHTML += row;
      workshopTotal += mark;
      workshopCount++;
    }
  }

  const workshopPercent = workshopCount ? (workshopTotal / (workshopCount * 50)) * 100 : 0;
  document.getElementById("workshopTotal").innerText = `المجموع: ${workshopTotal}`;
  document.getElementById("workshopPercentage").innerText = `النسبة المئوية: ${workshopPercent.toFixed(2)}%`;

  const overallPercent = ((examPercent + workshopPercent) / 2).toFixed(2);
  document.getElementById("overallPercentage").innerText = `النسبة العامة: ${overallPercent}%`;
</script>


</body>
</html>
